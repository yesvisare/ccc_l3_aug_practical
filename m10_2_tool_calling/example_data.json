{
  "sample_queries": [
    {
      "id": 1,
      "query": "What is tool calling in agentic RAG systems?",
      "expected_tools": ["knowledge_search"],
      "complexity": "simple"
    },
    {
      "id": 2,
      "query": "Calculate the monthly cost if we process 10,000 requests at $0.002 per request",
      "expected_tools": ["calculator"],
      "complexity": "simple"
    },
    {
      "id": 3,
      "query": "Find all compliance policies updated in the last 30 days and calculate total count",
      "expected_tools": ["database_query", "calculator"],
      "complexity": "medium"
    },
    {
      "id": 4,
      "query": "Check the regulatory API for recent changes and notify the compliance team on Slack",
      "expected_tools": ["api_call", "slack_notification"],
      "complexity": "medium"
    },
    {
      "id": 5,
      "query": "Search our knowledge base for GDPR requirements, query the database for affected systems, calculate risk scores, and send summary to Slack",
      "expected_tools": ["knowledge_search", "database_query", "calculator", "slack_notification"],
      "complexity": "complex"
    }
  ],
  "sample_tool_calls": [
    {
      "tool": "knowledge_search",
      "arguments": {
        "query": "GDPR data retention requirements",
        "top_k": 5
      },
      "expected_success": true
    },
    {
      "tool": "calculator",
      "arguments": {
        "expression": "10000 * 0.002"
      },
      "expected_success": true
    },
    {
      "tool": "calculator",
      "arguments": {
        "expression": "import os; os.system('ls')"
      },
      "expected_success": false,
      "expected_error": "Expression contains forbidden keywords"
    },
    {
      "tool": "database_query",
      "arguments": {
        "query": "SELECT * FROM policies WHERE updated_at > NOW() - INTERVAL '30 days'",
        "params": []
      },
      "expected_success": true
    },
    {
      "tool": "database_query",
      "arguments": {
        "query": "DROP TABLE users",
        "params": []
      },
      "expected_success": false,
      "expected_error": "Only SELECT queries allowed"
    },
    {
      "tool": "slack_notification",
      "arguments": {
        "channel": "#compliance-alerts",
        "message": "New regulatory change detected: GDPR Amendment 2024"
      },
      "expected_success": true
    }
  ],
  "failure_scenarios": [
    {
      "name": "Code Injection Attack",
      "tool": "calculator",
      "malicious_input": "import os; os.system('rm -rf /')",
      "mitigation": "RestrictedPython blocks import statements and dangerous operations"
    },
    {
      "name": "SQL Injection",
      "tool": "database_query",
      "malicious_input": "SELECT * FROM users WHERE id = 1; DROP TABLE users; --",
      "mitigation": "Parameterized queries and validation prevent injection"
    },
    {
      "name": "Tool Timeout",
      "tool": "api_call",
      "scenario": "External API takes 60 seconds to respond",
      "mitigation": "Timeout enforced at 20 seconds, fallback mechanisms"
    },
    {
      "name": "Invalid Arguments",
      "tool": "knowledge_search",
      "malicious_input": {"query": null, "top_k": "not a number"},
      "mitigation": "Schema validation rejects malformed arguments before execution"
    },
    {
      "name": "Non-serializable Result",
      "tool": "custom_tool",
      "scenario": "Tool returns Python object instead of JSON-serializable data",
      "mitigation": "Result validation ensures JSON compatibility"
    }
  ],
  "knowledge_base_samples": [
    {
      "id": "doc_1",
      "content": "Tool calling allows agentic RAG systems to execute actions beyond information retrieval. This includes calculations, database queries, API calls, and notifications.",
      "metadata": {
        "topic": "tool_calling",
        "source": "module_10_2"
      }
    },
    {
      "id": "doc_2",
      "content": "RestrictedPython provides sandboxing for safe code execution. It limits available built-ins, prevents dangerous imports, and guards attribute access to prevent exploits.",
      "metadata": {
        "topic": "sandboxing",
        "source": "module_10_2"
      }
    },
    {
      "id": "doc_3",
      "content": "Production tool systems require timeouts (1-300s), retry logic with exponential backoff, result validation, and comprehensive error handling to prevent agent crashes.",
      "metadata": {
        "topic": "production_requirements",
        "source": "module_10_2"
      }
    }
  ],
  "cost_examples": [
    {
      "scenario": "10K conversations/hour",
      "breakdown": {
        "api_calls": "$2000-5000/month",
        "compute": "$500-1000/month",
        "storage": "$200-500/month"
      },
      "total_monthly": "$2700-6500"
    }
  ]
}
